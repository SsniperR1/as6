<%- include('partials/navbar', {page: ''}) %>

<div class="hero min-h-screen bg-base-200">
  <div class="hero-content text-center">
    <div class="max-w-md">
      <h1 class="text-5xl font-bold">Edit Project</h1>
      <p class="py-6">Edit project: <%= project.title %></p>
    </div>
  </div>
</div>

<div class="container mx-auto px-4 py-8 max-w-2xl">
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <form method="POST" action="/solutions/editProject">
        <input type="hidden" name="id" value="<%= project.id %>" />
        
        <div class="form-control">
          <label class="label">
            <span class="label-text">Title</span>
          </label>
          <input type="text" name="title" placeholder="Project Title" class="input input-bordered" required value="<%= project.title %>" />
        </div>
        
        <div class="form-control">
          <label class="label">
            <span class="label-text">Feature Image URL</span>
          </label>
          <input type="url" name="feature_img_url" placeholder="https://example.com/image.jpg" class="input input-bordered" required value="<%= project.feature_img_url %>" />
        </div>
        
        <div class="form-control">
          <label class="label">
            <span class="label-text">Sector</span>
          </label>
          <select name="sector_id" class="select select-bordered w-full" required>
            <% sectors.forEach(sector => { %>
              <option <%= (project.sector_id == sector.id) ? "selected" : "" %> value="<%= sector.id %>">
                <%= sector.sector_name %>
              </option>
            <% }); %>
          </select>
        </div>
        
        <div class="form-control">
          <label class="label">
            <span class="label-text">Short Summary</span>
          </label>
          <textarea name="summary_short" placeholder="Brief summary of the project" class="textarea textarea-bordered" required><%= project.summary_short %></textarea>
        </div>
        
        <div class="form-control">
          <label class="label">
            <span class="label-text">Introduction</span>
          </label>
          <textarea name="intro_short" placeholder="Introduction to the project" class="textarea textarea-bordered" required><%= project.intro_short %></textarea>
        </div>
        
        <div class="form-control">
          <label class="label">
            <span class="label-text">Impact</span>
          </label>
          <textarea name="impact" placeholder="What impact does this project have?" class="textarea textarea-bordered" required><%= project.impact %></textarea>
        </div>
        
        <div class="form-control">
          <label class="label">
            <span class="label-text">Original Source URL</span>
          </label>
          <input type="url" name="original_source_url" placeholder="https://example.com" class="input input-bordered" required value="<%= project.original_source_url %>" />
        </div>
        
        <div class="form-control mt-6">
          <button class="btn btn-primary">Update Project</button>
        </div>
      </form>
      
      <div class="divider">OR</div>
      
      <a href="/solutions/deleteProject/<%= project.id %>" class="btn btn-error w-full" onclick="return confirm('Are you sure you want to delete this project?')">Delete Project</a>
    </div>
  </div>
</div>